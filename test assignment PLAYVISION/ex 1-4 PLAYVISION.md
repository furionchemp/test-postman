# Тестовое задание для тестировщика

[https://durak.ru](https://durak.ru) — веб-версия нашей карточной игры.

## 1. Анализ и тестирование данных профиля игрока через DevTools

Каждый игрок имеет профиль, расположенный в левом верхнем углу лобби (Лобби — главный экран или центральное меню в игре, где игрок оказывается до начала игры.)

### a) С помощью DevTools найдите запрос, в котором клиент получает данные профиля игрока.
   
### b) Изучите структуру JSON-ответа и напишите:
- URL запроса и HTTP-метод.
- Что означают поля: leagueData, stats, name. Например: gifts — это список подарков игрока.
- Как эти данные можно использовать в тестировании? 1–2 тест-кейса на каждое из полей выше. Для gifts, например: какой подарок, от кого, до какого времени активен).

## Ответы
### a) URL запроса, используемый для получения данных профиля игрока: 
https://server.production.durak.ru/api/v6/player/profile/11356633?scope=Stats,+Name,+HatId,+MainAvatarUrl,+Avatars,+LeagueData,+Friendship,+TournamentTrophy,+GrandTournamentPlace,+ProfileStatus,+Gifts&durak_nonce=0.5026401160857229

 
### b) URL запроса и HTTP-метод

- **URL:** `https://server.production.durak.ru/api/v6/player/profile/11356633?scope=Stats,+Name,+HatId,+MainAvatarUrl,+Avatars,+LeagueData,+Friendship,+TournamentTrophy,+GrandTournamentPlace,+ProfileStatus,+Gifts&durak_nonce=0.5026401160857229`
- **HTTP-метод:** используется метод GET

#### Поля ответа и их значение:

- **league_data:** Информация по лиге, включая место в лиге.
- **stats:** Включает общее количество игр и процент побед.
- **name:** Имя игрока.

### Как эти данные можно использовать в тестировании?

# Тест-кейсы

## Тест-кейс 1: Отображение изменения позиции в лиге

**ID:** 1  
**URL запроса:** `https://server.production.durak.ru/api/v6/player/profile/11356633?scope=Stats,+Name,+HatId,+MainAvatarUrl,+Avatars,+LeagueData,+Friendship,+TournamentTrophy,+GrandTournamentPlace,+ProfileStatus,+Gifts&durak_nonce=0.5026401160857229`  
**Окружение:** prod  
**Описание:** Проверить отображение изменения позиции в лиге у профиля игрока.  

### Поля:
- **league_data:** Информация по лиге, место в лиге.
- **stats:** Всего игр, процент побед.
- **name:** Имя.

### Шаги:
1. Изменить позицию в лиге.
2. Проверить отображение в профиле.

**Ожидаемый результат:** В профиле обновленная позиция в лиге.  
**Статус:** passed  

---

## Тест-кейс 2: Отображение изменения лиги

**ID:** 2  
**Окружение:** prod  
**Описание:** Проверить отображение изменения лиги при переходе между ними у профиля игрока.

### Шаги:
1. Изменить лигу игрока.
2. Проверить отображение в профиле.

**Ожидаемый результат:** В профиле обновленная лига с соответствующей рейтингу позицией.  
**Статус:** passed  

---

## Тест-кейс 3: Отображение изменения количества игр и % побед

**ID:** 3  
**Окружение:** prod  
**Описание:** Проверить отображение изменения количества игр и % побед у профиля игрока.

### Шаги:
1. Сыграть в одну игру.
2. Проверить изменение статистики в профиле.

**Ожидаемый результат:** В профиле обновленная статистика (количество игр и % побед).  
**Статус:** passed  

---

## Тест-кейс 4: Проверка невозможности отрицательного процента побед

**ID:** 4  
**Окружение:** prod  
**Описание:** Проверить, что процент побед не может быть ниже 0.

### Шаги:
- Предусловия: 0 игр на аккаунте.
1. Проиграть одну игру.
2. Проверить изменение статистики в профиле.

**Ожидаемый результат:** % побед остается прежним 0%.  
**Статус:** passed  

---

## Тест-кейс 5: Проверка изменения имени

**ID:** 5  
**Окружение:** prod  
**Описание:** Проверить возможность изменить имя.

### Шаги:
1. Нажать "Редактировать".
2. Изменить имя.
3. Сохранить изменения.

**Ожидаемый результат:** Имя в профиле обновлено.  
**Статус:** passed  

---

## 2. Система лиг: анализ запроса и тестирование данных группы игроков

В игре реализована система лиг. Каждый активный игрок попадает в группу из ~100 человек и соревнуется за награды. Чтобы попасть в группу, нужно сыграть хотя бы одну игру.

### a) Найдите запрос, в котором клиент получает список игроков вашей группы.
   
### b) Что указать в ответе:
- URL запроса и HTTP-метод
- Пример JSON-ответа (достаточно одного игрока)
- Какие основные поля приходят и что они значат? Например: nickname — никнейм игрока.
- Как эти данные можно использовать в тестировании?

## Ответы

### a) https://server.production.durak.ru/api/v6/leagues/getPlayerParty?durak_nonce=0.3118473505686802

### b) 
{
isSeasonActive: true,
data: {
leagueId: "league_2_v2",
isInParty: true,
leaderboard: {
subgroups: [
{
members: [
{
playerId: 11320891,
name: "Гость74142",
avatarUrl: null,
hatId: null,
profileStatusId: "Default",
cityId: null,
trophyTier: null,
score: 900
},
### c) Какие основные поля приходят и что они значат?
playerId: ID игрока.
name: Имя игрока.
avatarUrl: Ссылка на аватар игрока.
hatId: ID головного убора, возможно ачивка или подарок за достижения.
profileStatusId: Статус в профиле игрока (например, Default).
cityId: ID города.
trophyTier: Тир трофея (например, null, Bronze, Silver, Gold).
score: Рейтинг игрока.
Как эти данные можно использовать в тестировании?
### Примеры тест-кейсов:
### Проверка сортировки по полю score
• Убедиться, что список игроков идет по убыванию значения score.

 Обработка пустых значений avatarUrl, hatId, cityId
• При avatarUrl=null отображается заглушка-аватар; при hatId=null и cityId=null — корректно скрывать или помечать эти поля.

 Корректность отображения trophyTier
• При trophyTier=null показывать «–» или «нет трофеев», при «Bronze», «Silver», «Gold» — соответствующие иконки.

 Валидация формата полей
• playerId — целое число; name — непустая строка; score — число ≥ 0.

 Поведение при несуществующей лиге или пустом списке
• Запрос к несуществующей лиге возвращает корректный HTTP-код (например, 404) или пустой массив без внутренних ошибок.

 Проверка отображения profileStatusId
• При разных значениях profileStatusId (Default, Online, Busy, Away) игрок отображается с соответствующим статусом (цветом или значком).

---

## 3. Смоук-тест игры

Представьте, что вам нужно проверить новую сборку игры перед релизом. Напишите, что бы вы проверили в рамках smoke-теста. Что точно должно работать?

## Ответы

Установка/запуск
• Клиент устанавливается или распаковывается без ошибок.
• При старте загрузка ресурсов (сплэш, логотип) и попадание в главное меню без крашей.

Главное меню и навигация
• Все пункты кликабельны и открывают соответствующие экраны.
• Переход между экранами мгновенный, нет «залипаний».

Настройки
• Поменять графику (разрешение, полноэкран/окно, качество) → Apply → без вылетов.
• Поменять звук (музыка/эффекты/голос) и управление (клавиши/геймпад) → сохранить и проверить после перезапуска.

Новый сеанс и загрузка
• Запуск новой игры: попадание в стартовую точку/уровень.
• Сохранение прогресса → перезапуск клиента → загрузка сохранения → продолжение с той же позиции.

Базовая механика управления
• Взаимодействие с объектами (выбор, активация, подбор) работает без зависаний.

Критичные игровые функции
• Любая основная механика — пробный запуск: система даёт ожидаемый результат.
• UI-элементы обновляются при действиях игрока.

Выход из игры
• Exit/Quit корректно завершает процесс

## 4. Тестирование мобильных клиентов

У нас есть мобильные клиенты (iOS/Android), с функциональностью, аналогичной веб-версии.

### a) Назовите 3-5 ключевых отличий тестирования мобильных приложений (iOS/Android) от веб-версии.
   
### b) Что обязательно нужно проверять в мобильных клиентах, чего нет в вебе?
   
### c) Какие инструменты вы бы использовали для тестирования мобильного клиента?

## Ответы

### a) Назовите 3-5 ключевых отличий тестирования мобильных приложений
(iOS/Android) от веб-версии.

для МП важно учитывать разные модели, экраны, производительность, версии ОС (iOS/Android).
обработку перехода в фон, закрытия приложения, старта приложения, обработку уведомлений
Нужно учитывать сетевую нестабильность и реакцию приложения на это
нужно учитывать специфику распространения приложения
нужно учитывать разрешения и взаимодействие с ОС

### б) Что проверить

установка из магазина и бесшовное обновление
отказ и повторный запрос permissions (камера, микрофон, геолокация, уведомления)
переход в фон и восстановление состояния
push-уведомления и вход по тапу
сенсорные жесты (свайп, тап, долгий тап, мультитач)
офлайн-режим и синхронизация данных при восстановлении
энергопотребление и утечки памяти

### в) Что использовать
Android studio
Charles proxy
Firebase Test Lab